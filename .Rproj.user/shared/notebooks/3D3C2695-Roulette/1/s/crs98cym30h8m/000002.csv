"0","#' Play roulette to either bankruptcy, success, or play limits"
"0","#'"
"0","#' @param B number, the starting budget"
"0","#' @param W number, the budget threshold for successfully stoping"
"0","#' @param L number, the maximum number of plays "
"0","#' @param M number, the casino wager limit"
"0","#' @return A vector of budget values calculated after each play."
"0","one_series <- function("
"0","    B = 200"
"0","  , W = 300"
"0","  , L = 1000"
"0","  , M = 100"
"0","){"
"0","  # initial state"
"0","  state <- list("
"0","    B = B"
"0","  , W = W"
"0","  , L = L"
"0","  , M = M"
"0","  , plays = 0"
"0","  , previous_wager = 0"
"0","  , previous_win = TRUE"
"0","  )"
"0","  "
"0","  # vector to store budget over series of plays"
"0","  budget <- rep(NA, L)"
"0","  "
"0","  # For loop of plays"
"0","  for(i in 1:L){"
"0","    new_state <- state %>% one_play"
"0","    budget[i] <- new_state$B"
"0","    if(new_state %>% stop_play){"
"0","      return(budget[1:i])"
"0","    }"
"0","    state <- new_state"
"0","  }"
"0","  budget    "
"0","}"
